# RAGFlow Streamlit 客户端

这是一个使用 Streamlit 开发的 RAGFlow 客户端应用程序，可以连接到 RAGFlow 后端，并提供用户友好的聊天界面。

## 功能特点

- 左侧边栏显示可选的知识库
- 右侧主界面提供聊天对话框
- 支持流式回答显示
- 显示回答引用的来源文档
- 支持一键新建聊天对话

## 安装

1. 确保已经安装了 Python 3.8 或更高版本
2. 安装所需依赖项：

```bash
pip install -r requirements.txt
```

## 使用方法

1. 设置环境变量（或在应用中输入）：

```bash
export RAGFLOW_API_KEY="您的RAGFlow API密钥"
export RAGFLOW_BASE_URL="RAGFlow服务器地址，默认为http://localhost:9380"
```

2. 运行应用程序：

```bash
streamlit run main.py
```

3. 在浏览器中访问应用程序（通常为 http://localhost:8501）

4. 在左侧边栏选择要用于问答的知识库

5. 在聊天输入框中输入问题并开始对话

6. 点击"新建聊天对话"按钮可以开始一个新的会话，但会保留知识库选择

## 注意事项

- 确保 RAGFlow 服务器正在运行并且可访问
- 应用程序会记住会话状态，但刷新页面会重置对话
- 可以同时选择多个知识库进行问答
- 新建对话功能不会改变已选择的知识库，只会清除聊天历史

## 常见问题

### 如何解决"聊天名称重复"错误？

如果遇到"Duplicated chat name in creating chat"错误，请尝试以下解决方法：

1. 刷新页面，应用会重新生成唯一的聊天名称
2. 点击"新建聊天对话"按钮重置当前会话
3. 如果问题依然存在，请清除浏览器缓存后重试
4. 确保RAGFlow服务器没有过多相同名称的聊天实例

### 如何处理连接超时？

如果连接到RAGFlow服务器时出现超时：

1. 检查服务器地址是否正确
2. 确认服务器是否正常运行
3. 检查网络连接是否稳定
